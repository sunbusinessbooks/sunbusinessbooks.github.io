<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sun Business Books - One Page</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Шапка сайта -->
    <header>
        <div class="header-container">
            <h1>Sun Business Books</h1>
            <nav>
                <ul class="nav-links">
                    <li><a href="#home">Home</a></li>
                    <li><a href="#supplementary">Supplementary Materials</a></li>
                    <li><a href="#about">About Us</a></li>
                    <li><a href="#contact">Contact</a></li>
                    <li><a href="#privacy">Privacy Policy</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Основной контент страницы -->
    <main id="main-content">
        <!-- Секция Home -->
        <section id="home">
            <h2>Welcome to Sun Business Books</h2>
            <p>Your trusted resource for growth and success. Explore our carefully selected resources and take your next step toward success.</p>
        </section>

        <!-- Секция Supplementary Materials -->
        <section id="supplementary">
            <h2>Supplementary Materials</h2>
            <p>Explore our supplementary materials to enhance your learning experience.</p>
            <div class="meditation">
                <h4>Meditation with Female Voice</h4>
                <p>Designed to help you relax, find awareness, and connect deeply with yourself.</p>
                <a href="https://github.com/sunbusinessbooks/sunbusinessbooks.github.io/raw/main/assets/audio/MeditationGirl.mp3" download>Download Meditation</a> | 
                <a href="https://github.com/sunbusinessbooks/sunbusinessbooks.github.io/raw/main/assets/audio/MeditationGirl.mp3">Listen Online</a>
            </div>
            <div class="meditation">
                <h4>Meditation with Male Voice</h4>
                <p>Developed to create a calm space to explore thoughts and emotions, this meditation is perfect for relieving tension and re-energizing.</p>
                <a href="https://github.com/sunbusinessbooks/sunbusinessbooks.github.io/raw/main/assets/audio/MeditationMen.mp3" download>Download Meditation</a> | 
                <a href="https://github.com/sunbusinessbooks/sunbusinessbooks.github.io/raw/main/assets/audio/MeditationMen.mp3">Listen Online</a>
            </div>
        </section>

        <!-- Секция About Us -->
        <section id="about">
            <h2>About Us</h2>
            <p>Sun Business Books is dedicated to empowering individuals through actionable resources and knowledge that help them grow both personally and professionally. We believe in the power of learning and the potential of every individual.</p>
        </section>

        <!-- Секция Contact -->
        <section id="contact">
            <h2>Contact Us</h2>
            <p>Email: contact@sunbusinessbooks.com</p>
            <p>Phone: +1 234 567 890</p>
        </section>

        <!-- Секция Privacy Policy -->
        <section id="privacy">
            <h2>Privacy Policy</h2>
            <p>At Sun Business Books, we are committed to protecting your privacy. This Privacy Policy outlines the types of information we collect, how we use it, and how you can manage your personal data.</p>
        </section>

        <!-- Amazon Pay Button -->
        <div id="amazonPayButton"></div>
    </main>

    <!-- Чат-помощник -->
    <div id="chat-container">
        <div id="chat-box">
            <div id="messages"></div>
        </div>
        <input type="text" id="user-input" placeholder="Enter your message..." />
        <button onclick="sendMessage()">Send</button>
    </div>

    <!-- Футер -->
    <footer>
        <div class="footer-container">
            <p>&copy; 2024 Sun Business Books. All Rights Reserved.</p>
        </div>
    </footer>

    <!-- Скрипты -->
    <script src="https://static-na.payments-amazon.com/OffAmazonPayments/us/js/Widgets.js"></script>
    <script>
        // Amazon Pay Button
        OffAmazonPayments.Button("amazonPayButton", "A3PL4XG9Z7V0KH", {
            type: "PwA",
            color: "Gold",
            size: "medium",
            authorization: function() {
                window.location.href = "/checkout";
            },
            onError: function(error) {
                console.log("Amazon Pay Error:", error.getErrorCode(), error.getErrorMessage());
            }
        });

        // Чат-помощник
        async function sendMessage() {
            const userInput = document.getElementById("user-input").value;
            const messagesContainer = document.getElementById("messages");

            // Добавляем сообщение пользователя в чат
            messagesContainer.innerHTML += `<div class="user-message">${userInput}</div>`;
            document.getElementById("user-input").value = ""; // Очищаем поле ввода

            try {
                // Отправляем запрос на сервер
                const response = await fetch('https://sunbusinessbooks-server.onrender.com/chat', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ message: userInput }),
                });

                const data = await response.json();

                // Добавляем ответ от ChatGPT в чат
                if (data.reply) {
                    messagesContainer.innerHTML += `<div class="gpt-message">${data.reply}</div>`;
                } else {
                    messagesContainer.innerHTML += `<div class="gpt-message">Error: No response received.</div>`;
                }
            } catch (error) {
                console.error('Error:', error);
                messagesContainer.innerHTML += `<div class="gpt-message">Error: Unable to contact server.</div>`;
            }

            messagesContainer.scrollTop = messagesContainer.scrollHeight; // Прокручиваем вниз
        }
    </script>
</body>
</html>
